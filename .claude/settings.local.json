{
  "permissions": {
    "allow": [
      "Bash(cmd.exe /c \"cd /d C:\\\\Users\\\\Hp\\\\volteria\\\\frontend && npm run dev\")",
      "Bash(powershell -Command:*)",
      "Bash(npx tsc:*)",
      "Bash(cmd.exe /c \"cd /d C:\\\\Users\\\\Hp\\\\volteria\\\\frontend && npm run build 2>&1\")",
      "Bash(cmd.exe /c \"cd /d C:\\\\Users\\\\Hp\\\\volteria\\\\frontend && npm run lint 2>&1\")",
      "Bash(cmd.exe /c \"cd /d C:\\\\Users\\\\Hp\\\\volteria\\\\frontend && npm run lint\")",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfix: Update device template cards to match master device template style\n\n- Show template_id as mono subtitle instead of brand/model\n- Move brand/model to card content area\n- Add visible action buttons at bottom \\(Duplicate, Edit, Delete\\)\n- Add Active badge at bottom left\n- Add delete confirmation dialog\n- Match badge colors and layout with master device templates\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "Bash(sshpass -p '@1996SolaR' ssh root@159.223.224.203 \"cd /opt/solar-diesel-controller && git pull && docker-compose up -d --build\")",
      "Bash(ssh:*)",
      "Bash(scp:*)",
      "Bash(tar:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfix: Fix TypeScript error in dashboard sites query\n\n- Fetch enterprise project IDs first before using in .in\\(\\) query\n- Fixes build error: PostgrestFilterBuilder is not assignable to readonly any[]\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit:*)",
      "Bash(git reset:*)",
      "Bash(sshpass -p '@1996SolaR' ssh -o StrictHostKeyChecking=no root@159.223.224.203 \"cd /opt/solar-diesel-controller && git pull\")",
      "WebFetch(domain:volteria.org)",
      "Bash(find:*)",
      "Bash(npm run build:*)",
      "Bash(npx next build)",
      "Bash(cmd.exe /c \"cd C:\\\\Users\\\\Hp\\\\volteria\\\\frontend && npm run build\")",
      "Bash(powershell.exe -Command \"Set-Location ''C:\\\\Users\\\\Hp\\\\volteria\\\\frontend''; npm run build\")",
      "Bash(powershell.exe -Command \"Get-Command node -ErrorAction SilentlyContinue | Select-Object Source; Get-Command npm -ErrorAction SilentlyContinue | Select-Object Source\")",
      "Bash(powershell.exe -Command \"& { if \\(Test-Path ''C:\\\\Program Files\\\\nodejs\\\\npm.cmd''\\) { & ''C:\\\\Program Files\\\\nodejs\\\\npm.cmd'' --version } elseif \\(Test-Path ''C:\\\\Program Files \\(x86\\)\\\\nodejs\\\\npm.cmd''\\) { & ''C:\\\\Program Files \\(x86\\)\\\\nodejs\\\\npm.cmd'' --version } else { Write-Host ''Node.js not found in common locations'' } }\")",
      "Bash(powershell.exe -Command \"& { Set-Location ''C:\\\\Users\\\\Hp\\\\volteria\\\\frontend''; if \\(Test-Path ''.\\\\node_modules\\\\.bin\\\\next.cmd''\\) { & ''.\\\\node_modules\\\\.bin\\\\next.cmd'' build } else { Write-Host ''next not found in node_modules'' } }\")",
      "Bash(powershell.exe -Command \"Test-Path ''C:\\\\Users\\\\Hp\\\\volteria\\\\frontend\\\\src\\\\components\\\\sites\\\\template-sync-status.tsx''\")",
      "Bash(powershell.exe -Command \"Test-Path ''C:\\\\Users\\\\Hp\\\\volteria\\\\frontend\\\\src\\\\app\\\\api\\\\sites\\\\[siteId]\\\\template-sync-status\\\\route.ts''; Test-Path ''C:\\\\Users\\\\Hp\\\\volteria\\\\frontend\\\\src\\\\app\\\\api\\\\sites\\\\[siteId]\\\\sync-templates\\\\route.ts''\")",
      "Bash(npx supabase:*)",
      "Bash(sshpass -p '@1996SolaR' ssh root@159.223.224.203 \"docker exec -i sdc-backend python -c \"\"\nimport os\nfrom supabase import create_client\nurl = os.environ.get\\(''SUPABASE_URL''\\)\nkey = os.environ.get\\(''SUPABASE_SERVICE_KEY''\\)\nsupabase = create_client\\(url, key\\)\n# Get earliest and latest heartbeat\nresult = supabase.table\\(''controller_heartbeats''\\).select\\(''timestamp''\\).order\\(''timestamp'', desc=False\\).limit\\(1\\).execute\\(\\)\nearliest = result.data[0][''timestamp''] if result.data else ''No data''\nresult2 = supabase.table\\(''controller_heartbeats''\\).select\\(''timestamp''\\).order\\(''timestamp'', desc=True\\).limit\\(1\\).execute\\(\\)\nlatest = result2.data[0][''timestamp''] if result2.data else ''No data''\n# Count total\ncount = supabase.table\\(''controller_heartbeats''\\).select\\(''id'', count=''exact''\\).execute\\(\\)\nprint\\(f''Earliest heartbeat: {earliest}''\\)\nprint\\(f''Latest heartbeat: {latest}''\\)\nprint\\(f''Total heartbeats: {count.count}''\\)\n\"\"\")",
      "Bash(sshpass -p '@1996SolaR' ssh root@159.223.224.203 \"docker exec -i sdc-backend python -c \"\"\nimport os\nfrom supabase import create_client\nurl = os.environ.get\\(''SUPABASE_URL''\\)\nkey = os.environ.get\\(''SUPABASE_SERVICE_KEY''\\)\nsupabase = create_client\\(url, key\\)\n\n# Find the site named ''Crusher 1''\nsites = supabase.table\\(''sites''\\).select\\(''id, name''\\).execute\\(\\)\ncrusher_site = next\\(\\(s for s in sites.data if ''Crusher'' in s[''name'']\\), None\\)\nif crusher_site:\n    print\\(f''Site: {crusher_site}''\\)\n    \n    # Get the master device \\(controller\\) for this site\n    master = supabase.table\\(''site_master_devices''\\).select\\(''id, controller_id, device_type''\\).eq\\(''site_id'', crusher_site[''id'']\\).execute\\(\\)\n    print\\(f''Master devices: {master.data}''\\)\n    \n    if master.data:\n        controller_id = master.data[0].get\\(''controller_id''\\)\n        if controller_id:\n            # Get earliest and latest heartbeat for THIS controller\n            earliest = supabase.table\\(''controller_heartbeats''\\).select\\(''timestamp''\\).eq\\(''controller_id'', controller_id\\).order\\(''timestamp'', desc=False\\).limit\\(1\\).execute\\(\\)\n            latest = supabase.table\\(''controller_heartbeats''\\).select\\(''timestamp''\\).eq\\(''controller_id'', controller_id\\).order\\(''timestamp'', desc=True\\).limit\\(1\\).execute\\(\\)\n            count = supabase.table\\(''controller_heartbeats''\\).select\\(''id'', count=''exact''\\).eq\\(''controller_id'', controller_id\\).execute\\(\\)\n            print\\(f''Controller ID: {controller_id}''\\)\n            print\\(f''Earliest heartbeat for this controller: {earliest.data[0][\"\"timestamp\"\"] if earliest.data else \"\"None\"\"}''\\)\n            print\\(f''Latest heartbeat for this controller: {latest.data[0][\"\"timestamp\"\"] if latest.data else \"\"None\"\"}''\\)\n            print\\(f''Total heartbeats for this controller: {count.count}''\\)\n        else:\n            print\\(''No controller_id assigned to master device''\\)\nelse:\n    print\\(''Site not found''\\)\n\"\"\")",
      "Bash(git diff:*)",
      "Bash(sshpass -p '@1996SolaR' ssh -o StrictHostKeyChecking=no root@159.223.224.203 \"cd /opt/solar-diesel-controller && git pull && docker-compose up -d --build\")",
      "Bash(npx:*)",
      "Bash(git -C \"C:/Users/Hp/volteria\" status)",
      "Bash(git -C \"C:/Users/Hp/volteria\" diff --stat)",
      "Bash(git -C \"C:/Users/Hp/volteria\" log --oneline -5)",
      "Bash(git -C \"C:/Users/Hp/volteria\" add \"database/migrations/053_fix_heartbeat_rls.sql\" \"frontend/src/app/api/sites/[siteId]/controller-health/route.ts\" \"frontend/src/app/api/sites/[siteId]/heartbeats/route.ts\" \"frontend/src/app/api/sites/[siteId]/status/route.ts\" \"frontend/src/app/projects/[id]/page.tsx\" \"frontend/src/components/charts/power-flow-chart.tsx\")",
      "Bash(git -C \"C:/Users/Hp/volteria\" commit -m \"$\\(cat <<''EOF''\nfix: Proper RLS policy for heartbeats instead of service key bypass\n\n- Add migration 053_fix_heartbeat_rls.sql to allow anyone to read heartbeats\n- Remove service key bypass from controller-health, heartbeats, status API routes\n- Remove service key bypass from project page\n- Fix recharts dimension warnings by adding minWidth={0} to ResponsiveContainer\n\nHeartbeats are not sensitive data \\(just controller status\\), so the proper fix\nis to update RLS policies rather than bypass them with the service key.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:/Users/Hp/volteria\" push origin main)",
      "Bash(where:*)",
      "Bash(sshpass:*)",
      "Bash(dir /s /b \"C:\\\\Users\\\\Hp\\\\volteria\\\\frontend\\\\src\\\\app\\\\api\")",
      "Bash(curl:*)",
      "Bash(git -C \"C:/Users/Hp/volteria\" add \"frontend/src/app/admin/controllers/wizard/steps/step-cloud-connection.tsx\" \"frontend/src/app/admin/controllers/wizard/steps/step-download-image.tsx\" \"frontend/src/app/admin/controllers/wizard/steps/step-run-tests.tsx\")",
      "Bash(git -C \"C:/Users/Hp/volteria\" commit -m \"$\\(cat <<''EOF''\nfeat: Update wizard to reflect 5-layer controller architecture\n\n- Step 2: Show 5 systemd services \\(system, config, device, control, logging\\)\n- Step 2: Add SSH tunnel service and SQLite database info\n- Step 5: Update config preview with services and SSH settings\n- Step 5: Add SSH tunnel establishment step\n- Step 7: Add 3 new tests \\(service health, SSH tunnel, OTA check\\)\n- Step 7: Update test explanations for all 9 tests\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(tree:*)",
      "Bash(ls:*)",
      "Bash(wc:*)",
      "Bash(python:*)",
      "Bash(del C:UsersHpvolteriatest_register.sh)",
      "Bash(PGPASSWORD=\"Solar@1996\" psql:*)",
      "Bash(cmd /c \"cd C:\\\\Users\\\\Hp\\\\volteria\\\\frontend && npm run build\")",
      "Bash(cmd /c \"cd /d C:\\\\Users\\\\Hp\\\\volteria\\\\frontend && npm run build 2>&1\")",
      "Bash(del \"C:\\\\Users\\\\Hp\\\\volteria\\\\database\\\\migrations\\\\064_add_composite_indexes.sql\")",
      "Bash(npm run dev:*)",
      "Bash(git status:*)",
      "Bash(cat:*)",
      "Bash(npm run lint)",
      "Bash(psql:*)",
      "Bash(npm install:*)",
      "Bash(echo:*)",
      "Bash(/c/Users/Hp/AppData/Roaming/npm/npm.cmd --version)",
      "Bash(powershell.exe -Command \"npm --version\")",
      "Bash(powershell.exe -Command \"Get-Command npm | Select-Object -ExpandProperty Source\")",
      "Bash(powershell.exe -Command \"where.exe npm\")",
      "Bash(powershell.exe:*)",
      "Bash(export PATH=\"$PATH:/c/Program Files/nodejs\")",
      "Bash(npm:*)",
      "Bash(pip install:*)",
      "Bash(timeout 5 python:*)"
    ]
  }
}
